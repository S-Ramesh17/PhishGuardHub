function renderPieChart(dataArray){ const canvas = document.getElementById('pieChart'); if(!canvas){ const c = document.createElement('canvas'); c.id='pieChart'; c.width=400; c.height=200; document.getElementById('summary').appendChild(c); } const ctx = document.getElementById('pieChart').getContext('2d'); if(window._phishChart){ window._phishChart.data.datasets[0].data = dataArray; window._phishChart.update(); return; } window._phishChart = new Chart(ctx, { type:'pie', data:{ labels:['Safe','Phishing'], datasets:[{ data: dataArray }] }, options:{} }); }